{"ast":null,"code":"var _jsxFileName = \"/Users/me/Downloads/Projects/chatbot-lemonade/src/components/Chat/Chat.js\";\nimport React, { useState, useEffect } from 'react';\nimport useSessionStorage from '../../utils/useSessionStorage';\nimport { BOT_STEPS, NEXT_STEP } from '../../consts/chatConsts';\nimport { getBotMessageByStep } from '../../utils/chatUtils';\nimport ChatHeader from '../ChatHeader/ChatHeader';\nimport ChatFooter from '../ChatFooter/ChatFooter';\nimport ChatContent from '../ChatContent/ChatContent';\nimport './Chat.css';\n\nconst Chat = () => {\n  const [name, setName] = useSessionStorage('name', '');\n  const [step, setStep] = useState(name ? BOT_STEPS.NICE_TO_SEE : BOT_STEPS.INTRO);\n  const [messages, setMessages] = useState([getBotMessageByStep(step, name)]);\n  useEffect(() => {\n    const {\n      isUserInput\n    } = BOT_STEPS[step];\n\n    if (!isUserInput) {\n      setTimeout(() => {\n        const nextStep = NEXT_STEP[step];\n        const nextStepMessage = getBotMessageByStep(nextStep, name);\n        setStep(nextStep);\n        setMessages([...messages, nextStepMessage]);\n      }, 600);\n    }\n  }, [messages]);\n\n  const sendMessageHandler = newMessage => {\n    setName(newMessage);\n    setMessages([...messages, newMessage]);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"chat-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ChatHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ChatContent, {\n    messages: messages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ChatFooter, {\n    onSend: sendMessageHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }));\n};\n\nexport default Chat;","map":{"version":3,"sources":["/Users/me/Downloads/Projects/chatbot-lemonade/src/components/Chat/Chat.js"],"names":["React","useState","useEffect","useSessionStorage","BOT_STEPS","NEXT_STEP","getBotMessageByStep","ChatHeader","ChatFooter","ChatContent","Chat","name","setName","step","setStep","NICE_TO_SEE","INTRO","messages","setMessages","isUserInput","setTimeout","nextStep","nextStepMessage","sendMessageHandler","newMessage"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,iBAAP,MAA8B,+BAA9B;AACA,SAASC,SAAT,EAAoBC,SAApB,QAAsC,yBAAtC;AACA,SAASC,mBAAT,QAAoC,uBAApC;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,UAAP,MAAuB,0BAAvB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AAEA,OAAO,YAAP;;AAGA,MAAMC,IAAI,GAAG,MAAM;AACf,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBT,iBAAiB,CAAC,MAAD,EAAS,EAAT,CAAzC;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBb,QAAQ,CAACU,IAAI,GAAGP,SAAS,CAACW,WAAb,GAA2BX,SAAS,CAACY,KAA1C,CAAhC;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BjB,QAAQ,CAAC,CAACK,mBAAmB,CAACO,IAAD,EAAOF,IAAP,CAApB,CAAD,CAAxC;AAEAT,EAAAA,SAAS,CAAC,MAAM;AACd,UAAM;AAAEiB,MAAAA;AAAF,QAAkBf,SAAS,CAACS,IAAD,CAAjC;;AAEA,QAAI,CAACM,WAAL,EAAkB;AACdC,MAAAA,UAAU,CAAC,MAAM;AACf,cAAMC,QAAQ,GAAGhB,SAAS,CAACQ,IAAD,CAA1B;AACA,cAAMS,eAAe,GAAGhB,mBAAmB,CAACe,QAAD,EAAWV,IAAX,CAA3C;AACEG,QAAAA,OAAO,CAACO,QAAD,CAAP;AACAH,QAAAA,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAcK,eAAd,CAAD,CAAX;AACD,OALO,EAKL,GALK,CAAV;AAMD;AAEF,GAZM,EAYJ,CAACL,QAAD,CAZI,CAAT;;AAcA,QAAMM,kBAAkB,GAAIC,UAAD,IAAgB;AACvCZ,IAAAA,OAAO,CAACY,UAAD,CAAP;AACAN,IAAAA,WAAW,CAAC,CAAC,GAAGD,QAAJ,EAAcO,UAAd,CAAD,CAAX;AACH,GAHD;;AAKF,sBACE;AAAK,IAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,eAEI,oBAAC,WAAD;AAAa,IAAA,QAAQ,EAAEP,QAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,eAGI,oBAAC,UAAD;AAAY,IAAA,MAAM,EAAEM,kBAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHJ,CADF;AAOD,CA/BD;;AAiCA,eAAeb,IAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport useSessionStorage from '../../utils/useSessionStorage'\nimport { BOT_STEPS, NEXT_STEP }  from '../../consts/chatConsts'\nimport { getBotMessageByStep } from '../../utils/chatUtils';\nimport ChatHeader from '../ChatHeader/ChatHeader'\nimport ChatFooter from '../ChatFooter/ChatFooter';\nimport ChatContent from '../ChatContent/ChatContent';\n\nimport './Chat.css';\n\n\nconst Chat = () => {\n    const [name, setName] = useSessionStorage('name', '');\n    const [step, setStep] = useState(name ? BOT_STEPS.NICE_TO_SEE : BOT_STEPS.INTRO)\n    const [messages, setMessages] = useState([getBotMessageByStep(step, name)])\n\n    useEffect(() => {\n      const { isUserInput } = BOT_STEPS[step]\n\n      if (!isUserInput) { \n          setTimeout(() => {\n            const nextStep = NEXT_STEP[step]\n            const nextStepMessage = getBotMessageByStep(nextStep, name)\n              setStep(nextStep)\n              setMessages([...messages, nextStepMessage])\n            }, 600)\n        }\n       \n      }, [messages])\n\n    const sendMessageHandler = (newMessage) => {\n        setName(newMessage)\n        setMessages([...messages, newMessage])\n    }\n\n  return (\n    <div className=\"chat-container\">\n        <ChatHeader/>\n        <ChatContent messages={messages}/>\n        <ChatFooter onSend={sendMessageHandler}/>\n    </div>\n  );\n}\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}